<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false">
  <!--定义日志文件的存储地址 勿在 LogBack 的配置中使用相对路径-->
  <property name="LOG_HOME" value="logs/" />
  <!-- 定义日志格式  -->
  <property name="LOG_PATTERN" value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] [%thread] [%-30.30logger{30}] %msg%n" />
  <!-- 控制台输出 -->
  <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
      <!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
    </encoder>
  </appender>
  <!-- 按照每天生成日志文件 -->
  <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <!--日志文件输出的文件名-->
      <FileNamePattern>${LOG_HOME}/application/SpringBoot-Slf4j_%d{yyyy-MM-dd}.log</FileNamePattern>
      <!--日志文件保留天数-->
      <MaxHistory>30</MaxHistory>
    </rollingPolicy>
    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
      <!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
    </encoder>
    <!--日志文件最大的大小-->
    <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
      <MaxFileSize>10MB</MaxFileSize>
    </triggeringPolicy>
  </appender>
<!--  &lt;!&ndash; 访问日志 &ndash;&gt;-->
<!--  <appender name="ACCESS" class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">-->
<!--      &lt;!&ndash;日志文件输出的文件名&ndash;&gt;-->
<!--      <FileNamePattern>${LOG_HOME}/access/access_%d{yyyy-MM-dd}.log</FileNamePattern>-->
<!--      &lt;!&ndash;日志文件保留天数&ndash;&gt;-->
<!--      <MaxHistory>30</MaxHistory>-->
<!--    </rollingPolicy>-->
<!--    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">-->
<!--      &lt;!&ndash;格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符&ndash;&gt;-->
<!--      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %msg%n</pattern>-->
<!--    </encoder>-->
<!--    &lt;!&ndash;日志文件最大的大小&ndash;&gt;-->
<!--    <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">-->
<!--      <MaxFileSize>10MB</MaxFileSize>-->
<!--    </triggeringPolicy>-->
<!--  </appender>-->
<!--  -->
<!--  &lt;!&ndash; 配置访问日志 &ndash;&gt;-->
<!--  <logger name="com.sky.interceptor.JwtTokenAdminInterceptor" level="TRACE" additivity="false">-->
<!--    <appender-ref ref="ACCESS" />-->
<!--  </logger>-->
<!--  -->
<!--  &lt;!&ndash; 接口性能日志输出到文件 &ndash;&gt;-->
<!--  <appender name="PERF" class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">-->
<!--      &lt;!&ndash;日志文件输出的文件名&ndash;&gt;-->
<!--      <FileNamePattern>${LOG_HOME}/perf/Controller_%d{yyyy-MM-dd}.log</FileNamePattern>-->
<!--      &lt;!&ndash;日志文件保留天数&ndash;&gt;-->
<!--      <MaxHistory>30</MaxHistory>-->
<!--    </rollingPolicy>-->
<!--    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">-->
<!--      &lt;!&ndash;格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符&ndash;&gt;-->
<!--      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}:%msg%n</pattern>-->
<!--    </encoder>-->
<!--    &lt;!&ndash;日志文件最大的大小&ndash;&gt;-->
<!--    <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">-->
<!--      <MaxFileSize>10MB</MaxFileSize>-->
<!--    </triggeringPolicy>-->
<!--  </appender>-->
<!--  &lt;!&ndash; 配置aop记录信息 &ndash;&gt;-->
<!--  <logger name="com.sky.aop" level="TRACE" additivity="false">-->
<!--    <appender-ref ref="PERF" />-->
<!--  </logger>-->
<!--  -->
<!--  &lt;!&ndash; 用于记录异常 &ndash;&gt;-->
<!--  <appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">-->
<!--      &lt;!&ndash;日志文件输出的文件名&ndash;&gt;-->
<!--      <FileNamePattern>${LOG_HOME}/error/error_%d{yyyy-MM-dd}.log</FileNamePattern>-->
<!--      &lt;!&ndash;日志文件保留天数&ndash;&gt;-->
<!--      <MaxHistory>30</MaxHistory>-->
<!--    </rollingPolicy>-->
<!--    <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">-->
<!--      &lt;!&ndash;格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符&ndash;&gt;-->
<!--      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}:%msg%n</pattern>-->
<!--    </encoder>-->
<!--    &lt;!&ndash;日志文件最大的大小&ndash;&gt;-->
<!--    <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">-->
<!--      <MaxFileSize>10MB</MaxFileSize>-->
<!--    </triggeringPolicy>-->
<!--  </appender>-->
<!--  -->
<!--  <logger name="com.sky.handler" level="TRACE" additivity="false">-->
<!--    <appender-ref ref="ERROR" />-->
<!--  </logger>-->
  
  <logger name="org.springframework" level="WARN" />
  <logger name="com.sky.controller" level="TRACE" />
  <root level="INFO">
    <appender-ref ref="CONSOLE" />
    <appender-ref ref="FILE" />
  </root>
</configuration>
